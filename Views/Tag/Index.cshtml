@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Rastit Tagit";
    
}

@model Kipa_plus.Models.ViewModels.TagIndexViewModel
<h2>@Model?.RastiNimi</h2>
<div class="grid-container">
    <div class="grid-item" onClick="location.href='Tag/LueTulo?RastiId=@Model.RastiId'"><img class="grid-item-image" alt="Lue tulo" src="/images/nfc.png"><p class="grid-item-text">Lue tulo</p></div>
    <div class="grid-item" onClick="location.href='Tag/LueLahto?RastiId=@Model.RastiId'"><img class="grid-item-image" alt="Lue lähtö" src="/images/nfc.png"><p class="grid-item-text">Lue lähtö</p></div>
    
</div>

<br />

@if(Model.Skannatut != null){
    <h2>Skannatut</h2>

    <table class="table" style="color:white">
        <thead>
            <tr>
                <th>
                    Vartio, tulo, lähtö
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach(var skannaus in Model.Skannatut)
            {
                <tr>
                    <td>
                        <h2>@skannaus.Vartio.NumeroJaNimi</h2>
                        @{
                            
                            if(skannaus.Tulo != null)
                            {
                                @Html.Raw("Tulo: " + skannaus.Tulo?.ToString("HH:mm"))
                                ;
                            }
                            else
                            {
                                @Html.Raw("Tulo: Ei dataa");
                            }
                            <br />
                            if(skannaus.Lahto != null)
                            {
                                @Html.Raw("Lähtö: " + skannaus.Lahto?.ToString("HH:mm"))
                                ;
                            }
                            else
                            {
                                @Html.Raw("lähtö: Ei dataa");
                            }
                        }

                    </td>
                </tr>
            }
        </tbody>
    </table>
}